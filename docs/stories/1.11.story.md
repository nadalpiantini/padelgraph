# Story 1.11: Payment History UI Component

**Epic**: 1
**Story ID**: 1.11
**Status**: Draft
**Priority**: Medium
**Estimated Effort**: 3-4 hours
**Dependencies**: Story 1.10 (Billing dashboard)

---

## ðŸ“– User Story

**As a** subscriber
**I want** to view my payment history
**So that** I can track my spending and invoices

---

## âœ… Acceptance Criteria

1. PaymentHistory component created
2. Displays all payments in reverse chronological order
3. Shows date, amount, status, plan
4. Pagination or infinite scroll
5. Empty state for no payments
6. Download invoice button (future enhancement noted)
7. Responsive table/card layout
8. Integrated in billing page

---

## ðŸ”§ Dev Notes

**Component**: `src/components/subscription/PaymentHistory.tsx`

**API**: Use existing `payments` table data

**Layout**:
```tsx
<PaymentHistory>
  <Table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Amount</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {payments.map(payment => (
        <tr key={payment.id}>
          <td>{formatDate(payment.created_at)}</td>
          <td>Pro Plan - Monthly</td>
          <td>â‚¬{(payment.amount / 100).toFixed(2)}</td>
          <td><StatusBadge status={payment.status} /></td>
        </tr>
      ))}
    </tbody>
  </Table>
</PaymentHistory>
```

---

## ðŸ“‹ Tasks

1. Create PaymentHistory component
2. Fetch from payments table via API
3. Format date and amount
4. Status badges (completed/pending/failed/refunded)
5. Responsive design (table â†’ cards on mobile)
6. Empty state
7. Integrate in billing page
8. Unit tests

---

**Created**: 2025-10-18
